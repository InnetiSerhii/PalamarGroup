angular.module("templates",[]),angular.module("ostapRadioApp",["ngMaterial","ngMessages","ngRoute","layout","users","templates"]),function(){"use strict";angular.module("layout",["ngMaterial"])}(),function(){"use strict";angular.module("users",["ngMaterial","ngMessages"])}(),angular.module("templates").run(["$templateCache",function(n){n.put("users/views/login.form.html",'<md-dialog aria-label="LOGIN" flex-sm="40" flex-xs="50" flex-gt-sm="25">\r\n    <md-toolbar class="md-hue-2">\r\n        <div class="md-toolbar-tools  ">\r\n            <md-icon md-svg-icon="social:ic_person_24px"></md-icon>\r\n            <h2 class=" md-padding ">LOGIN</h2>\r\n            <span flex></span>\r\n        </div>\r\n    </md-toolbar>\r\n    <form name="loginForm" class="md-padding " ng-submit="vm.login(loginForm)">\r\n        <md-dialog-content>\r\n            <md-dialog-content-body>\r\n                <md-input-container class="md-block ">\r\n                    <md-icon md-svg-icon="communication:ic_email_24px"></md-icon>\r\n                    <label for="email">eMail</label>\r\n                    <input id="email" ng-model="vm.loginModel.email" type="email" name="email"\r\n                           minlength="10" maxlength="100" ng-pattern="/^.+@.+\\..+$/" required>\r\n                    <div ng-messages="loginForm.email.$error" role="alert"\r\n                         ng-show="loginForm.email.$touched && loginForm.email.$invalid ">\r\n                        <div ng-message-exp="[\'minlength\', \'maxlength\']">\r\n                            Your email must be between 10 and 100 characters long and look like an e-mail address.\r\n                        </div>\r\n                        <div ng-message="required">\r\n                            Please tell us your email.\r\n                        </div>\r\n                        <div ng-message="pattern">\r\n                            Your email must look like an e-mail address.\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <md-icon md-svg-icon="action:ic_lock_24px"></md-icon>\r\n                    <label>Password</label>\r\n                    <input ng-model="vm.loginModel.password" id="password" type="password" name="password"\r\n                           required\r\n                           maxlength="20">\r\n                    <div ng-messages="loginForm.password.$error" role="alert"\r\n                         ng-show="loginForm.password.$touched && loginForm.password.$invalid ">\r\n                        <div ng-message-exp="[\'required\']">\r\n                            Please tell us your password.\r\n                        </div>\r\n                        <div ng-message-exp="[ \'minlength\', \'maxlength\']">\r\n                            Your password must be between 5 and 20 characters long.\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n            </md-dialog-content-body>\r\n        </md-dialog-content>\r\n        <md-dialog-actions layout="row" md-whiteframe="2">\r\n            <md-button ng-click="vm.cancel()">Cancel</md-button>\r\n            <md-button type="submit" class="md-raised md-accent"> Login</md-button>\r\n        </md-dialog-actions>\r\n    </form>\r\n</md-dialog>\r\n'),n.put("users/views/registration.form.html",'<md-dialog aria-label="SIGN UP" flex-sm="40" flex-xs="50" flex-gt-sm="25">\r\n    <md-toolbar class="md-hue-2">\r\n        <div class="md-toolbar-tools md-padding ">\r\n            <md-icon md-svg-icon="social:ic_person_24px"></md-icon>\r\n            <h2 class=" md-padding ">SIGN UP</h2>\r\n            <span flex></span>\r\n        </div>\r\n    </md-toolbar>\r\n    <form name="registationForm" class="md-padding " novalidate ng-submit="vm.register(registationForm)">\r\n        <md-dialog-content>\r\n            <md-dialog-content-body>\r\n                <md-input-container class="md-block  ">\r\n                    <md-icon md-svg-icon="communication:ic_email_24px"></md-icon>\r\n                    <label for="email">eMail</label>\r\n                    <input id="email" ng-model="vm.registationModel.email" type="email" name="email"\r\n                           minlength="10" maxlength="100" ng-pattern="/^.+@.+\\..+$/" required>\r\n                    <div ng-messages="registationForm.email.$error" role="alert"\r\n                                               ng-show="registationForm.email.$touched && registationForm.email.$invalid ">\r\n                    <div ng-message-exp="[\'minlength\', \'maxlength\']">\r\n                        Your email must be between 10 and 100 characters long and look like an e-mail address.\r\n                    </div>\r\n                    <div ng-message="required">\r\n                        Please tell us your email.\r\n                    </div>\r\n                    <div ng-message="pattern">\r\n                        Your email must look like an e-mail address.\r\n                    </div>\r\n                </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <md-icon md-svg-icon="action:ic_lock_24px"></md-icon>\r\n                    <label>Password</label>\r\n                    <input ng-model="vm.registationModel.password" id="password" type="password" name="password"\r\n                           required\r\n                           minlength="5" maxlength="20">\r\n                    <div ng-messages="registationForm.password.$error" role="alert"\r\n                         ng-show="registationForm.password.$touched && registationForm.password.$invalid ">\r\n                        <div ng-message-exp="[\'required\']">\r\n                            Please tell us your password.\r\n                        </div>\r\n                        <div ng-message-exp="[ \'minlength\', \'maxlength\']">\r\n                            Your password must be between 6 and 20 characters long.\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <md-icon md-svg-icon="action:ic_lock_24px"></md-icon>\r\n                    <label>Confirm Password</label>\r\n                    <input type="password" id="password_c" name="password_c" ng-model="vm.registationModel.password_c"\r\n                           compare-to="vm.registationModel.password"\r\n                           required>\r\n                    <div ng-messages="registationForm.password_c.$error"\r\n                         ng-show="registationForm.password_c.$touched ||registationForm.password.$touched  && registationForm.password_c.$invalid  ">\r\n                        <div ng-message="compareTo">\r\n                            Passwords do not match.\r\n                        </div>\r\n\r\n                    </div>\r\n                </md-input-container>\r\n            </md-dialog-content-body>\r\n        </md-dialog-content>\r\n\r\n        <md-dialog-actions layout="row" md-whiteframe="2">\r\n            <md-button ng-click="vm.cancel()">Cancel</md-button>\r\n            <md-button type="submit" class="md-raised md-accent">SIGN UP</md-button>\r\n        </md-dialog-actions>\r\n    </form>\r\n</md-dialog>\r\n')}]),angular.module("ostapRadioApp").constant("constants",{baseUrl:"/",apiUrl:"/api"}).config(["$routeProvider","$mdThemingProvider","$mdIconProvider",function(n,e,o){n.when("/home",{templateUrl:"app/layout/views/layout.html",controller:"LayoutController",controllerAs:"vm"}).when("/profile",{templateUrl:"app/users/views/profile.html"}).otherwise({redirectTo:"/home"}),e.theme("default").primaryPalette("indigo").accentPalette("pink"),o.iconSet("action","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-action.svg").iconSet("social","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-social.svg").iconSet("communication","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-communication.svg").iconSet("navigation","../node_modules/material-design-icons/sprites/svg-sprite/svg-sprite-navigation.svg").iconSet("av","../node_modules/material-design-icons/sprites/svg-sprite/svg-sprite-av.svg")}]).run(["$http","$templateCache",function(n,e){var o=["../node_modules/material-design-icons/sprites/svg-sprite/svg-sprite-navigation.svg","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-action.svg","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-social.svg","../node_modules//material-design-icons/sprites/svg-sprite/svg-sprite-communication.svg"];angular.forEach(o,function(o){n.get(o,{cache:e})})}]),function(){function n(n,e,o){function i(){e("left").toggle()}function r(){n.show({controller:"LoginController",controllerAs:"vm",template:o.get("users/views/registration.form.html"),parent:angular.element(document.body),clickOutsideToClose:!0})}function t(){n.show({controller:"LoginController",controllerAs:"vm",template:o.get("users/views/login.form.html"),parent:angular.element(document.body),clickOutsideToClose:!0})}var a=this;a.showLogin=t,a.showRegistration=r,a.toggleLeftMenu=i,a.artists=[{icon:"../content/images/pop/Rihanna.jpg",title:"Rihanna"},{icon:"../content/images/pop/Lady Gaga.jpg",title:"Lady Gaga"},{icon:"../content/images/pop/Selena Gomez.jpg",title:"Selena Gomez"},{icon:"../content/images/pop/Madonna.jpg",title:"Madonna"},{icon:"../content/images/pop/Mariah Carey.jpg",title:"Mariah Carey "},{icon:"../content/images/pop/Christina Aguilera.jpg",title:"Christina Aguilera"},{icon:"../content/images/pop/Taylor Swift.jpg",title:"Taylor Swift"},{icon:"../content/images/pop/Adele.jpg",title:"Adele"},{icon:"../content/images/pop/Britney Spears.jpg",title:"Britney Spears"},{icon:"../content/images/pop/Katy Perry.jpg",title:"Katy Perry"},{icon:"../content/images/pop/Jennifer Lopez.jpg",title:"Jennifer Lopez "},{icon:"../content/images/pop/Avril Lavigne.jpg",title:" Avril Lavigne"}],a.artists1=a.artists.slice().sort(),a.artists2=a.artists.slice().reverse()}angular.module("layout").controller("LayoutController",["$mdDialog","$mdSidenav","$templateCache",n])}(),function(){function n(n,e,o,i,r){var t=this;t.registationModel={password:"admin",email:"admin@admin.com",password_c:"admin"},t.loginModel={password:"admin",email:"admin@admin.com"},t.cancel=function(){n.hide()},t.login=function(i){e.debug("login()..."),i.$valid&&o.login(t.loginModel).then(function(o){e.debug("success   login ..."+o.email+o.id),r.path("/profile"),n.hide()},function(){e.debug("fail...")})},t.register=function(o){e.debug("register()..."),o.$valid&&i.post(t.registationModel).then(function(o){e.debug("success   register ..."+o.email+o._id),n.hide()},function(){e.debug("fail...")})},t.user={password:"password",email:"ostapradio@gmail.com",password_c:"password"}}angular.module("users").controller("LoginController",["$mdDialog","$log","LoginService","userService","$location",n])}(),function(){"use strict";function n(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(n,e,o,i){i.$validators.compareTo=function(e){return e==n.otherModelValue},n.$watch("otherModelValue",function(){i.$validate()})}}}angular.module("users").directive("compareTo",n)}(),function(){"use strict";function n(n,e,o){var i=o.apiUrl,r={login:i+"/authenticate"};return{login:function(o){return n.post(r.login,o).then(function(e){return n.defaults.headers.common["x-auth-token"]=e.data.token,e.data.user})["catch"](function(n){e.error(n)})}}}angular.module("users").factory("LoginService",["$http","$log","constants",n])}(),function(){"use strict";function n(n,e){var o=e.apiUrl+"/user";this.get=function(e){var i=e?o+"/"+e:o;return n.get(i).then(function(n){return n.data})},this.post=function(e){return n.post(o,e).then(function(n){return n.data})},this.put=function(e,i){return n.put(o+"/"+e,i).then(function(n){return n.data})},this["delete"]=function(n){return $thhp["delete"](o+"/"+n).then(function(n){return n.data})}}angular.module("users").service("userService",n),n.$inject=["$http","constants"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5tb2R1bGUuanMiLCJsYXlvdXQvbGF5b3V0Lm1vZHVsZS5qcyIsInVzZXJzL3VzZXJzLm1vZHVsZS5qcyIsInRlbXBsYXRlcy5qcyIsImFwcC5jb25maWcuanMiLCJsYXlvdXQvY29udHJvbGxlcnMvbGF5b3V0LmNvbnRyb2xsZXIuanMiLCJ1c2Vycy9jb250cm9sbGVycy9sb2dpbi5jb250cm9sbGVyLmpzIiwidXNlcnMvZGlyZWN0aXZlcy9jb21wYXJlLXRvLmRpcmVjdGl2ZS5qcyIsInVzZXJzL3NlcnZpY2VzL2xvZ2luLnNlcnZpY2UuanMiLCJ1c2Vycy9zZXJ2aWNlcy91c2VyLnNlcnZpY2UuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiR0ZW1wbGF0ZUNhY2hlIiwicHV0IiwiY29uc3RhbnQiLCJiYXNlVXJsIiwiYXBpVXJsIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCIkbWRUaGVtaW5nUHJvdmlkZXIiLCIkbWRJY29uUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udHJvbGxlckFzIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInRoZW1lIiwicHJpbWFyeVBhbGV0dGUiLCJhY2NlbnRQYWxldHRlIiwiaWNvblNldCIsIiRodHRwIiwidXJscyIsImZvckVhY2giLCJ1cmwiLCJnZXQiLCJjYWNoZSIsIkxheW91dENvbnRyb2xsZXIiLCIkbWREaWFsb2ciLCIkbWRTaWRlbmF2IiwidG9nZ2xlTGVmdE1lbnUiLCJ0b2dnbGUiLCJzaG93UmVnaXN0cmF0aW9uIiwic2hvdyIsInRlbXBsYXRlIiwicGFyZW50IiwiZWxlbWVudCIsImRvY3VtZW50IiwiYm9keSIsImNsaWNrT3V0c2lkZVRvQ2xvc2UiLCJzaG93TG9naW4iLCJ2bSIsInRoaXMiLCJhcnRpc3RzIiwiaWNvbiIsInRpdGxlIiwiYXJ0aXN0czEiLCJzbGljZSIsInNvcnQiLCJhcnRpc3RzMiIsInJldmVyc2UiLCJMb2dpbkNvbnRyb2xsZXIiLCIkbG9nIiwiTG9naW5TZXJ2aWNlIiwidXNlclNlcnZpY2UiLCIkbG9jYXRpb24iLCJyZWdpc3RhdGlvbk1vZGVsIiwicGFzc3dvcmQiLCJlbWFpbCIsInBhc3N3b3JkX2MiLCJsb2dpbk1vZGVsIiwiY2FuY2VsIiwiaGlkZSIsImxvZ2luIiwiZm9ybSIsImRlYnVnIiwiJHZhbGlkIiwidGhlbiIsInVzZXIiLCJpZCIsInBhdGgiLCJyZWdpc3RlciIsInBvc3QiLCJfaWQiLCJDb21wYXJlVG8iLCJyZXF1aXJlIiwic2NvcGUiLCJvdGhlck1vZGVsVmFsdWUiLCJsaW5rIiwiYXR0cmlidXRlcyIsIm5nTW9kZWwiLCIkdmFsaWRhdG9ycyIsImNvbXBhcmVUbyIsIm1vZGVsVmFsdWUiLCIkd2F0Y2giLCIkdmFsaWRhdGUiLCJkaXJlY3RpdmUiLCJjb25zdGFudHMiLCJjcmVkcyIsInJlcyIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImRhdGEiLCJ0b2tlbiIsImVyciIsImVycm9yIiwiZmFjdG9yeSIsIlVzZXJTZXJ2aWNlIiwiZ2V0VXJsIiwiJHRoaHAiLCJzZXJ2aWNlIiwiJGluamVjdCJdLCJtYXBwaW5ncyI6IkFBR0FBLFFBQUFDLE9BQUEsZ0JBRUFELFFBQ0FDLE9BQUEsaUJBQUEsYUFBQSxhQUFBLFVBQUEsU0FBQSxRQUFBLGNDSEEsV0FDQSxZQUdBRCxTQUFBQyxPQUFBLFVBQUEsa0JDUEEsV0FDQSxZQUdBRCxTQUFBQyxPQUFBLFNBQUEsYUFBQSxrQkNKQUQsUUFBQUMsT0FBQSxhQUFBQyxLQUFBLGlCQUFBLFNBQUFDLEdBQUFBLEVBQUFDLElBQUEsOEJBQUEsMjlGQUNBRCxFQUFBQyxJQUFBLHFDQUFBLGc2SENHQUosUUFDQUMsT0FBQSxpQkFDQUksU0FBQSxhQUNBQyxRQUFBLElBQ0FDLE9BQUEsU0FFQUMsUUFBQSxpQkFBQSxxQkFBQSxrQkFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUNBRyxLQUFBLFNBQ0FDLFlBQUEsK0JBQ0FDLFdBQUEs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QUFrQyxFQUFBVSxHQUFBRCxLQUFBLFNBQUFzQixHQUNBLE1BQUFBLEdBQUFJLFFBSUFuRCxLQUFBQSxVQUFBLFNBQUFnQixHQUNBLE1BQUEwQyxPQUFBQSxVQUFBNUUsRUFBQSxJQUFBa0MsR0FBQVMsS0FBQSxTQUFBc0IsR0FDQSxNQUFBQSxHQUFBSSxRQTNCQTlGLFFBQUFDLE9BQUEsU0FBQXFHLFFBQUEsY0FBQUgsR0FFQUEsRUFBQUksU0FBQSxRQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEdhbHluYSBvbiAxNi4wMy4yMDE2LlxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIixbXSlcclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ29zdGFwUmFkaW9BcHAnLCBbICduZ01hdGVyaWFsJywgJ25nTWVzc2FnZXMnICwnbmdSb3V0ZScsICdsYXlvdXQnLCAndXNlcnMnLCd0ZW1wbGF0ZXMnXSk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEdhbHluYSBvbiAxNi4wMy4yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLy8gUHJlcGFyZSB0aGUgJ3VzZXJzJyBtb2R1bGUgZm9yIHN1YnNlcXVlbnQgcmVnaXN0cmF0aW9uIG9mIGNvbnRyb2xsZXJzIGFuZCBkZWxlZ2F0ZXNcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdsYXlvdXQnLCBbICduZ01hdGVyaWFsJyBdKTtcclxuXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbigpe1xyXG4gICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgLy8gUHJlcGFyZSB0aGUgJ3VzZXJzJyBtb2R1bGUgZm9yIHN1YnNlcXVlbnQgcmVnaXN0cmF0aW9uIG9mIGNvbnRyb2xsZXJzIGFuZCBkZWxlZ2F0ZXNcclxuICBhbmd1bGFyLm1vZHVsZSgndXNlcnMnLCBbICduZ01hdGVyaWFsJywnbmdNZXNzYWdlcycgXSk7XHJcblxyXG5cclxufSkoKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZXNcIikucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7JHRlbXBsYXRlQ2FjaGUucHV0KFwidXNlcnMvdmlld3MvbG9naW4uZm9ybS5odG1sXCIsXCI8bWQtZGlhbG9nIGFyaWEtbGFiZWw9XFxcIkxPR0lOXFxcIiBmbGV4LXNtPVxcXCI0MFxcXCIgZmxleC14cz1cXFwiNTBcXFwiIGZsZXgtZ3Qtc209XFxcIjI1XFxcIj5cXHJcXG4gICAgPG1kLXRvb2xiYXIgY2xhc3M9XFxcIm1kLWh1ZS0yXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcIm1kLXRvb2xiYXItdG9vbHMgIFxcXCI+XFxyXFxuICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XFxcInNvY2lhbDppY19wZXJzb25fMjRweFxcXCI+PC9tZC1pY29uPlxcclxcbiAgICAgICAgICAgIDxoMiBjbGFzcz1cXFwiIG1kLXBhZGRpbmcgXFxcIj5MT0dJTjwvaDI+XFxyXFxuICAgICAgICAgICAgPHNwYW4gZmxleD48L3NwYW4+XFxyXFxuICAgICAgICA8L2Rpdj5cXHJcXG4gICAgPC9tZC10b29sYmFyPlxcclxcbiAgICA8Zm9ybSBuYW1lPVxcXCJsb2dpbkZvcm1cXFwiIGNsYXNzPVxcXCJtZC1wYWRkaW5nIFxcXCIgbmctc3VibWl0PVxcXCJ2bS5sb2dpbihsb2dpbkZvcm0pXFxcIj5cXHJcXG4gICAgICAgIDxtZC1kaWFsb2ctY29udGVudD5cXHJcXG4gICAgICAgICAgICA8bWQtZGlhbG9nLWNvbnRlbnQtYm9keT5cXHJcXG4gICAgICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cXFwibWQtYmxvY2sgXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVxcXCJjb21tdW5pY2F0aW9uOmljX2VtYWlsXzI0cHhcXFwiPjwvbWQtaWNvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImVtYWlsXFxcIj5lTWFpbDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9XFxcImVtYWlsXFxcIiBuZy1tb2RlbD1cXFwidm0ubG9naW5Nb2RlbC5lbWFpbFxcXCIgdHlwZT1cXFwiZW1haWxcXFwiIG5hbWU9XFxcImVtYWlsXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmxlbmd0aD1cXFwiMTBcXFwiIG1heGxlbmd0aD1cXFwiMTAwXFxcIiBuZy1wYXR0ZXJuPVxcXCIvXi4rQC4rXFxcXC4uKyQvXFxcIiByZXF1aXJlZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZXM9XFxcImxvZ2luRm9ybS5lbWFpbC4kZXJyb3JcXFwiIHJvbGU9XFxcImFsZXJ0XFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zaG93PVxcXCJsb2dpbkZvcm0uZW1haWwuJHRvdWNoZWQgJiYgbG9naW5Gb3JtLmVtYWlsLiRpbnZhbGlkIFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1tZXNzYWdlLWV4cD1cXFwiW1xcJ21pbmxlbmd0aFxcJywgXFwnbWF4bGVuZ3RoXFwnXVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgZW1haWwgbXVzdCBiZSBiZXR3ZWVuIDEwIGFuZCAxMDAgY2hhcmFjdGVycyBsb25nIGFuZCBsb29rIGxpa2UgYW4gZS1tYWlsIGFkZHJlc3MuXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1tZXNzYWdlPVxcXCJyZXF1aXJlZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSB0ZWxsIHVzIHlvdXIgZW1haWwuXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1tZXNzYWdlPVxcXCJwYXR0ZXJuXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWW91ciBlbWFpbCBtdXN0IGxvb2sgbGlrZSBhbiBlLW1haWwgYWRkcmVzcy5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8L21kLWlucHV0LWNvbnRhaW5lcj5cXHJcXG4gICAgICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cXFwibWQtYmxvY2tcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPG1kLWljb24gbWQtc3ZnLWljb249XFxcImFjdGlvbjppY19sb2NrXzI0cHhcXFwiPjwvbWQtaWNvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5QYXNzd29yZDwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XFxcInZtLmxvZ2luTW9kZWwucGFzc3dvcmRcXFwiIGlkPVxcXCJwYXNzd29yZFxcXCIgdHlwZT1cXFwicGFzc3dvcmRcXFwiIG5hbWU9XFxcInBhc3N3b3JkXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4bGVuZ3RoPVxcXCIyMFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVxcXCJsb2dpbkZvcm0ucGFzc3dvcmQuJGVycm9yXFxcIiByb2xlPVxcXCJhbGVydFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgbmctc2hvdz1cXFwibG9naW5Gb3JtLnBhc3N3b3JkLiR0b3VjaGVkICYmIGxvZ2luRm9ybS5wYXNzd29yZC4kaW52YWxpZCBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZS1leHA9XFxcIltcXCdyZXF1aXJlZFxcJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGVhc2UgdGVsbCB1cyB5b3VyIHBhc3N3b3JkLlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZS1leHA9XFxcIlsgXFwnbWlubGVuZ3RoXFwnLCBcXCdtYXhsZW5ndGhcXCddXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWW91ciBwYXNzd29yZCBtdXN0IGJlIGJldHdlZW4gNSBhbmQgMjAgY2hhcmFjdGVycyBsb25nLlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcclxcbiAgICAgICAgICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQtYm9keT5cXHJcXG4gICAgICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+XFxyXFxuICAgICAgICA8bWQtZGlhbG9nLWFjdGlvbnMgbGF5b3V0PVxcXCJyb3dcXFwiIG1kLXdoaXRlZnJhbWU9XFxcIjJcXFwiPlxcclxcbiAgICAgICAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj5DYW5jZWw8L21kLWJ1dHRvbj5cXHJcXG4gICAgICAgICAgICA8bWQtYnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcIm1kLXJhaXNlZCBtZC1hY2NlbnRcXFwiPiBMb2dpbjwvbWQtYnV0dG9uPlxcclxcbiAgICAgICAgPC9tZC1kaWFsb2ctYWN0aW9ucz5cXHJcXG4gICAgPC9mb3JtPlxcclxcbjwvbWQtZGlhbG9nPlxcclxcblwiKTtcbiR0ZW1wbGF0ZUNhY2hlLnB1dChcInVzZXJzL3ZpZXdzL3JlZ2lzdHJhdGlvbi5mb3JtLmh0bWxcIixcIjxtZC1kaWFsb2cgYXJpYS1sYWJlbD1cXFwiU0lHTiBVUFxcXCIgZmxleC1zbT1cXFwiNDBcXFwiIGZsZXgteHM9XFxcIjUwXFxcIiBmbGV4LWd0LXNtPVxcXCIyNVxcXCI+XFxyXFxuICAgIDxtZC10b29sYmFyIGNsYXNzPVxcXCJtZC1odWUtMlxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtZC10b29sYmFyLXRvb2xzIG1kLXBhZGRpbmcgXFxcIj5cXHJcXG4gICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cXFwic29jaWFsOmljX3BlcnNvbl8yNHB4XFxcIj48L21kLWljb24+XFxyXFxuICAgICAgICAgICAgPGgyIGNsYXNzPVxcXCIgbWQtcGFkZGluZyBcXFwiPlNJR04gVVA8L2gyPlxcclxcbiAgICAgICAgICAgIDxzcGFuIGZsZXg+PC9zcGFuPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvbWQtdG9vbGJhcj5cXHJcXG4gICAgPGZvcm0gbmFtZT1cXFwicmVnaXN0YXRpb25Gb3JtXFxcIiBjbGFzcz1cXFwibWQtcGFkZGluZyBcXFwiIG5vdmFsaWRhdGUgbmctc3VibWl0PVxcXCJ2bS5yZWdpc3RlcihyZWdpc3RhdGlvbkZvcm0pXFxcIj5cXHJcXG4gICAgICAgIDxtZC1kaWFsb2ctY29udGVudD5cXHJcXG4gICAgICAgICAgICA8bWQtZGlhbG9nLWNvbnRlbnQtYm9keT5cXHJcXG4gICAgICAgICAgICAgICAgPG1kLWlucHV0LWNvbnRhaW5lciBjbGFzcz1cXFwibWQtYmxvY2sgIFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cXFwiY29tbXVuaWNhdGlvbjppY19lbWFpbF8yNHB4XFxcIj48L21kLWljb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJlbWFpbFxcXCI+ZU1haWw8L2xhYmVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPVxcXCJlbWFpbFxcXCIgbmctbW9kZWw9XFxcInZtLnJlZ2lzdGF0aW9uTW9kZWwuZW1haWxcXFwiIHR5cGU9XFxcImVtYWlsXFxcIiBuYW1lPVxcXCJlbWFpbFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5sZW5ndGg9XFxcIjEwXFxcIiBtYXhsZW5ndGg9XFxcIjEwMFxcXCIgbmctcGF0dGVybj1cXFwiL14uK0AuK1xcXFwuLiskL1xcXCIgcmVxdWlyZWQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVxcXCJyZWdpc3RhdGlvbkZvcm0uZW1haWwuJGVycm9yXFxcIiByb2xlPVxcXCJhbGVydFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nLXNob3c9XFxcInJlZ2lzdGF0aW9uRm9ybS5lbWFpbC4kdG91Y2hlZCAmJiByZWdpc3RhdGlvbkZvcm0uZW1haWwuJGludmFsaWQgXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZS1leHA9XFxcIltcXCdtaW5sZW5ndGhcXCcsIFxcJ21heGxlbmd0aFxcJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIFlvdXIgZW1haWwgbXVzdCBiZSBiZXR3ZWVuIDEwIGFuZCAxMDAgY2hhcmFjdGVycyBsb25nIGFuZCBsb29rIGxpa2UgYW4gZS1tYWlsIGFkZHJlc3MuXFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZT1cXFwicmVxdWlyZWRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsZWFzZSB0ZWxsIHVzIHlvdXIgZW1haWwuXFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZT1cXFwicGF0dGVyblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgWW91ciBlbWFpbCBtdXN0IGxvb2sgbGlrZSBhbiBlLW1haWwgYWRkcmVzcy5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9tZC1pbnB1dC1jb250YWluZXI+XFxyXFxuICAgICAgICAgICAgICAgIDxtZC1pbnB1dC1jb250YWluZXIgY2xhc3M9XFxcIm1kLWJsb2NrXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxtZC1pY29uIG1kLXN2Zy1pY29uPVxcXCJhY3Rpb246aWNfbG9ja18yNHB4XFxcIj48L21kLWljb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+UGFzc3dvcmQ8L2xhYmVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVxcXCJ2bS5yZWdpc3RhdGlvbk1vZGVsLnBhc3N3b3JkXFxcIiBpZD1cXFwicGFzc3dvcmRcXFwiIHR5cGU9XFxcInBhc3N3b3JkXFxcIiBuYW1lPVxcXCJwYXNzd29yZFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZFxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmxlbmd0aD1cXFwiNVxcXCIgbWF4bGVuZ3RoPVxcXCIyMFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG5nLW1lc3NhZ2VzPVxcXCJyZWdpc3RhdGlvbkZvcm0ucGFzc3dvcmQuJGVycm9yXFxcIiByb2xlPVxcXCJhbGVydFxcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgbmctc2hvdz1cXFwicmVnaXN0YXRpb25Gb3JtLnBhc3N3b3JkLiR0b3VjaGVkICYmIHJlZ2lzdGF0aW9uRm9ybS5wYXNzd29yZC4kaW52YWxpZCBcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZS1leHA9XFxcIltcXCdyZXF1aXJlZFxcJ11cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGVhc2UgdGVsbCB1cyB5b3VyIHBhc3N3b3JkLlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgbmctbWVzc2FnZS1leHA9XFxcIlsgXFwnbWlubGVuZ3RoXFwnLCBcXCdtYXhsZW5ndGhcXCddXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgWW91ciBwYXNzd29yZCBtdXN0IGJlIGJldHdlZW4gNiBhbmQgMjAgY2hhcmFjdGVycyBsb25nLlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcclxcbiAgICAgICAgICAgICAgICA8bWQtaW5wdXQtY29udGFpbmVyIGNsYXNzPVxcXCJtZC1ibG9ja1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bWQtaWNvbiBtZC1zdmctaWNvbj1cXFwiYWN0aW9uOmljX2xvY2tfMjRweFxcXCI+PC9tZC1pY29uPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkNvbmZpcm0gUGFzc3dvcmQ8L2xhYmVsPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiBpZD1cXFwicGFzc3dvcmRfY1xcXCIgbmFtZT1cXFwicGFzc3dvcmRfY1xcXCIgbmctbW9kZWw9XFxcInZtLnJlZ2lzdGF0aW9uTW9kZWwucGFzc3dvcmRfY1xcXCJcXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wYXJlLXRvPVxcXCJ2bS5yZWdpc3RhdGlvbk1vZGVsLnBhc3N3b3JkXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1tZXNzYWdlcz1cXFwicmVnaXN0YXRpb25Gb3JtLnBhc3N3b3JkX2MuJGVycm9yXFxcIlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICBuZy1zaG93PVxcXCJyZWdpc3RhdGlvbkZvcm0ucGFzc3dvcmRfYy4kdG91Y2hlZCB8fHJlZ2lzdGF0aW9uRm9ybS5wYXNzd29yZC4kdG91Y2hlZCAgJiYgcmVnaXN0YXRpb25Gb3JtLnBhc3N3b3JkX2MuJGludmFsaWQgIFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBuZy1tZXNzYWdlPVxcXCJjb21wYXJlVG9cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZHMgZG8gbm90IG1hdGNoLlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDwvbWQtaW5wdXQtY29udGFpbmVyPlxcclxcbiAgICAgICAgICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQtYm9keT5cXHJcXG4gICAgICAgIDwvbWQtZGlhbG9nLWNvbnRlbnQ+XFxyXFxuXFxyXFxuICAgICAgICA8bWQtZGlhbG9nLWFjdGlvbnMgbGF5b3V0PVxcXCJyb3dcXFwiIG1kLXdoaXRlZnJhbWU9XFxcIjJcXFwiPlxcclxcbiAgICAgICAgICAgIDxtZC1idXR0b24gbmctY2xpY2s9XFxcInZtLmNhbmNlbCgpXFxcIj5DYW5jZWw8L21kLWJ1dHRvbj5cXHJcXG4gICAgICAgICAgICA8bWQtYnV0dG9uIHR5cGU9XFxcInN1Ym1pdFxcXCIgY2xhc3M9XFxcIm1kLXJhaXNlZCBtZC1hY2NlbnRcXFwiPlNJR04gVVA8L21kLWJ1dHRvbj5cXHJcXG4gICAgICAgIDwvbWQtZGlhbG9nLWFjdGlvbnM+XFxyXFxuICAgIDwvZm9ybT5cXHJcXG48L21kLWRpYWxvZz5cXHJcXG5cIik7fV0pOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEdhbHluYSBvbiAxNi4wMy4yMDE2LlxyXG4gKi9cclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ29zdGFwUmFkaW9BcHAnKVxyXG4gICAgLmNvbnN0YW50KCdjb25zdGFudHMnLCB7XHJcbiAgICAgICAgYmFzZVVybDogJy8nLFxyXG4gICAgICAgIGFwaVVybDogJy9hcGknXHJcbiAgICB9KVxyXG4gICAgLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIsICRtZFRoZW1pbmdQcm92aWRlciwgJG1kSWNvblByb3ZpZGVyKSB7XHJcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgLndoZW4oJy9ob21lJywge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvbGF5b3V0L3ZpZXdzL2xheW91dC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMYXlvdXRDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogXCJ2bVwiXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC53aGVuKCcvcHJvZmlsZScsIHt0ZW1wbGF0ZVVybDogJ2FwcC91c2Vycy92aWV3cy9wcm9maWxlLmh0bWwnfSlcclxuICAgICAgICAgICAgLm90aGVyd2lzZSh7cmVkaXJlY3RUbzogJy9ob21lJ30pO1xyXG5cclxuICAgICAgICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gICAgICAgICAgICAucHJpbWFyeVBhbGV0dGUoJ2luZGlnbycpXHJcbiAgICAgICAgICAgIC8vIElmIHlvdSBzcGVjaWZ5IGxlc3MgdGhhbiBhbGwgb2YgdGhlIGtleXMsIGl0IHdpbGwgaW5oZXJpdCBmcm9tIHRoZVxyXG4gICAgICAgICAgICAvLyBkZWZhdWx0IHNoYWRlc1xyXG4gICAgICAgICAgICAuYWNjZW50UGFsZXR0ZSgncGluaycpXHJcblxyXG5cclxuXHJcbiAgICAgICAgJG1kSWNvblByb3ZpZGVyXHJcbiAgICAgICAgICAgIC5pY29uU2V0KFwiYWN0aW9uXCIsIFwiLi4vbm9kZV9tb2R1bGVzLy9tYXRlcmlhbC1kZXNpZ24taWNvbnMvc3ByaXRlcy9zdmctc3ByaXRlL3N2Zy1zcHJpdGUtYWN0aW9uLnN2Z1wiKVxyXG4gICAgICAgICAgICAuaWNvblNldChcInNvY2lhbFwiLCBcIi4uL25vZGVfbW9kdWxlcy8vbWF0ZXJpYWwtZGVzaWduLWljb25zL3Nwcml0ZXMvc3ZnLXNwcml0ZS9zdmctc3ByaXRlLXNvY2lhbC5zdmdcIilcclxuICAgICAgICAgICAgLmljb25TZXQoXCJjb21tdW5pY2F0aW9uXCIsIFwiLi4vbm9kZV9tb2R1bGVzLy9tYXRlcmlhbC1kZXNpZ24taWNvbnMvc3ByaXRlcy9zdmctc3ByaXRlL3N2Zy1zcHJpdGUtY29tbXVuaWNhdGlvbi5zdmdcIilcclxuICAgICAgICAgICAgLmljb25TZXQoXCJuYXZpZ2F0aW9uXCIsIFwiLi4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9zcHJpdGVzL3N2Zy1zcHJpdGUvc3ZnLXNwcml0ZS1uYXZpZ2F0aW9uLnN2Z1wiKVxyXG4gICAgICAgICAgICAuaWNvblNldChcImF2XCIsIFwiLi4vbm9kZV9tb2R1bGVzL21hdGVyaWFsLWRlc2lnbi1pY29ucy9zcHJpdGVzL3N2Zy1zcHJpdGUvc3ZnLXNwcml0ZS1hdi5zdmdcIilcclxuXHJcblxyXG4gICAgfSkucnVuKGZ1bmN0aW9uICgkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcclxuICAgIHZhciB1cmxzID0gW1xyXG4gICAgICAgICcuLi9ub2RlX21vZHVsZXMvbWF0ZXJpYWwtZGVzaWduLWljb25zL3Nwcml0ZXMvc3ZnLXNwcml0ZS9zdmctc3ByaXRlLW5hdmlnYXRpb24uc3ZnJyxcclxuICAgICAgICBcIi4uL25vZGVfbW9kdWxlcy8vbWF0ZXJpYWwtZGVzaWduLWljb25zL3Nwcml0ZXMvc3ZnLXNwcml0ZS9zdmctc3ByaXRlLWFjdGlvbi5zdmdcIixcclxuICAgICAgICBcIi4uL25vZGVfbW9kdWxlcy8vbWF0ZXJpYWwtZGVzaWduLWljb25zL3Nwcml0ZXMvc3ZnLXNwcml0ZS9zdmctc3ByaXRlLXNvY2lhbC5zdmdcIixcclxuICAgICAgICBcIi4uL25vZGVfbW9kdWxlcy8vbWF0ZXJpYWwtZGVzaWduLWljb25zL3Nwcml0ZXMvc3ZnLXNwcml0ZS9zdmctc3ByaXRlLWNvbW11bmljYXRpb24uc3ZnXCJcclxuICAgIF07XHJcbiAgICAvLyBQcmUtZmV0Y2ggaWNvbnMgc291cmNlcyBieSBVUkwgYW5kIGNhY2hlIGluIHRoZSAkdGVtcGxhdGVDYWNoZS4uLlxyXG4gICAgLy8gc3Vic2VxdWVudCAkaHR0cCBjYWxscyB3aWxsIGxvb2sgdGhlcmUgZmlyc3QuXHJcbiAgICBhbmd1bGFyLmZvckVhY2godXJscywgZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICRodHRwLmdldCh1cmwsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KTtcclxuICAgIH0pO1xyXG59KVxyXG47XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEdhbHluYSBvbiAxNi4wMy4yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgnbGF5b3V0JylcclxuICAgICAgICAuY29udHJvbGxlcignTGF5b3V0Q29udHJvbGxlcicsIFsnJG1kRGlhbG9nJywgJyRtZFNpZGVuYXYnLCAnJHRlbXBsYXRlQ2FjaGUnLCBMYXlvdXRDb250cm9sbGVyXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBNYWluIENvbnRyb2xsZXIgZm9yIHRoZSAgQXBwXHJcbiAgICAgKiBAcGFyYW0gJG1kRGlhbG9nXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gTGF5b3V0Q29udHJvbGxlcigkbWREaWFsb2csICRtZFNpZGVuYXYsICR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuXHJcbiAgICAgICAgdm0uc2hvd0xvZ2luID0gc2hvd0xvZ2luO1xyXG4gICAgICAgIHZtLnNob3dSZWdpc3RyYXRpb24gPSBzaG93UmVnaXN0cmF0aW9uO1xyXG4gICAgICAgIHZtLnRvZ2dsZUxlZnRNZW51ID0gdG9nZ2xlTGVmdE1lbnU7XHJcbiAgICAgICAgdm0uYXJ0aXN0cyA9IFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCIuLi9jb250ZW50L2ltYWdlcy9wb3AvUmloYW5uYS5qcGdcIixcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlJpaGFubmFcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9MYWR5IEdhZ2EuanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJMYWR5IEdhZ2FcIlxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9TZWxlbmEgR29tZXouanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTZWxlbmEgR29tZXpcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9NYWRvbm5hLmpwZ1wiLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiTWFkb25uYVwiLFxyXG5cclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCIuLi9jb250ZW50L2ltYWdlcy9wb3AvTWFyaWFoIENhcmV5LmpwZ1wiLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiTWFyaWFoIENhcmV5IFwiLFxyXG5cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCIuLi9jb250ZW50L2ltYWdlcy9wb3AvQ2hyaXN0aW5hIEFndWlsZXJhLmpwZ1wiLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQ2hyaXN0aW5hIEFndWlsZXJhXCIsXHJcblxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9UYXlsb3IgU3dpZnQuanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJUYXlsb3IgU3dpZnRcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9BZGVsZS5qcGdcIixcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFkZWxlXCJcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCIuLi9jb250ZW50L2ltYWdlcy9wb3AvQnJpdG5leSBTcGVhcnMuanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJCcml0bmV5IFNwZWFyc1wiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpY29uOiBcIi4uL2NvbnRlbnQvaW1hZ2VzL3BvcC9LYXR5IFBlcnJ5LmpwZ1wiLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiS2F0eSBQZXJyeVwiLFxyXG5cclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgaWNvbjogXCIuLi9jb250ZW50L2ltYWdlcy9wb3AvSmVubmlmZXIgTG9wZXouanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJKZW5uaWZlciBMb3BleiBcIixcclxuXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGljb246IFwiLi4vY29udGVudC9pbWFnZXMvcG9wL0F2cmlsIExhdmlnbmUuanBnXCIsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogXCIgQXZyaWwgTGF2aWduZVwiLFxyXG5cclxuICAgICAgICAgICAgfV07XHJcbiAgICAgICAgdm0uYXJ0aXN0czEgPSB2bS5hcnRpc3RzLnNsaWNlKCkuc29ydCgpO1xyXG4gICAgICAgIHZtLmFydGlzdHMyID0gdm0uYXJ0aXN0cy5zbGljZSgpLnJldmVyc2UoKSA7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZUxlZnRNZW51KCkge1xyXG4gICAgICAgICAgICAkbWRTaWRlbmF2KCdsZWZ0JykudG9nZ2xlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzaG93UmVnaXN0cmF0aW9uKCkge1xyXG4gICAgICAgICAgICAkbWREaWFsb2cuc2hvdyh7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTG9naW5Db250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogXCJ2bVwiLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldCgndXNlcnMvdmlld3MvcmVnaXN0cmF0aW9uLmZvcm0uaHRtbCcpLFxyXG4gICAgICAgICAgICAgICAgcGFyZW50OiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXHJcbiAgICAgICAgICAgICAgICBjbGlja091dHNpZGVUb0Nsb3NlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2hvdyBMb2dpbiBkaWFsb2dcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBzaG93TG9naW4oKSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5zaG93KHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdMb2dpbkNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiBcInZtXCIsXHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KCd1c2Vycy92aWV3cy9sb2dpbi5mb3JtLmh0bWwnKSxcclxuICAgICAgICAgICAgICAgIHBhcmVudDogYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpLFxyXG4gICAgICAgICAgICAgICAgY2xpY2tPdXRzaWRlVG9DbG9zZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pKCk7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBHYWx5bmEgb24gMTYuMDMuMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3VzZXJzJylcclxuICAgICAgICAuY29udHJvbGxlcignTG9naW5Db250cm9sbGVyJywgWyckbWREaWFsb2cnLCAnJGxvZycsICdMb2dpblNlcnZpY2UnLCd1c2VyU2VydmljZScsICckbG9jYXRpb24nLCBMb2dpbkNvbnRyb2xsZXJcclxuICAgICAgICBdKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbnRyb2xsZXIgZm9yIExvZ2luXHJcbiAgICAgKiBAcGFyYW0gJG1kRGlhbG9nXHJcbiAgICAgKiBAcGFyYW0gJGxvZ1xyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIExvZ2luQ29udHJvbGxlcigkbWREaWFsb2csICRsb2csIExvZ2luU2VydmljZSwgdXNlclNlcnZpY2UsICRsb2NhdGlvbikge1xyXG4gICAgICAgIHZhciB2bSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHZtLnJlZ2lzdGF0aW9uTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnYWRtaW4nLFxyXG4gICAgICAgICAgICBlbWFpbDogJ2FkbWluQGFkbWluLmNvbScsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkX2M6ICdhZG1pbidcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZtLmxvZ2luTW9kZWwgPSB7XHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiAnYWRtaW4nLFxyXG4gICAgICAgICAgICBlbWFpbDogJ2FkbWluQGFkbWluLmNvbSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRtZERpYWxvZy5oaWRlKCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0ubG9naW4gPSBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgICAgICAkbG9nLmRlYnVnKFwibG9naW4oKS4uLlwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3JtLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgTG9naW5TZXJ2aWNlLmxvZ2luKHZtLmxvZ2luTW9kZWwpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwic3VjY2VzcyAgIGxvZ2luIC4uLlwiICsgdXNlci5lbWFpbCArIFwiXCIgKyB1c2VyLmlkKTtcclxuICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL3Byb2ZpbGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJmYWlsLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2bS5yZWdpc3RlciA9IGZ1bmN0aW9uIChmb3JtKSB7XHJcbiAgICAgICAgICAgICRsb2cuZGVidWcoXCJyZWdpc3RlcigpLi4uXCIpO1xyXG4gICAgICAgICAgICBpZiAoZm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHVzZXJTZXJ2aWNlLnBvc3Qodm0ucmVnaXN0YXRpb25Nb2RlbCkudGhlbihmdW5jdGlvbiAodXNlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJzdWNjZXNzICAgcmVnaXN0ZXIgLi4uXCIgKyB1c2VyLmVtYWlsICsgXCJcIiArIHVzZXIuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRsb2cuZGVidWcoXCJmYWlsLi4uXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdm0udXNlciA9IHtcclxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCcsXHJcbiAgICAgICAgICAgIGVtYWlsOiAnb3N0YXByYWRpb0BnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICBwYXNzd29yZF9jOiAncGFzc3dvcmQnXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbn0pKCk7XHJcblxyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBHYWx5bmEgb24gMTYuMDMuMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBmdW5jdGlvbiBDb21wYXJlVG8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogXCJuZ01vZGVsXCIsXHJcbiAgICAgICAgICAgIHNjb3BlOiB7XHJcbiAgICAgICAgICAgICAgICBvdGhlck1vZGVsVmFsdWU6IFwiPWNvbXBhcmVUb1wiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyaWJ1dGVzLCBuZ01vZGVsKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5jb21wYXJlVG8gPSBmdW5jdGlvbihtb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPT0gc2NvcGUub3RoZXJNb2RlbFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goXCJvdGhlck1vZGVsVmFsdWVcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbC4kdmFsaWRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgndXNlcnMnKVxyXG4gICAgICAgIC5kaXJlY3RpdmUoJ2NvbXBhcmVUbycsQ29tcGFyZVRvICk7XHJcblxyXG5cclxufSkoKTtcclxuIiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgR2FseW5hIG9uIDE2LjAzLjIwMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIGFuZ3VsYXIubW9kdWxlKCd1c2VycycpXHJcbiAgICAgICAgLmZhY3RvcnkoJ0xvZ2luU2VydmljZScsIFsnJGh0dHAnLCAnJGxvZycsICdjb25zdGFudHMnLCBMb2dpblNlcnZpY2VdKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvZ2luIERhdGFTZXJ2aWNlXHJcbiAgICAgKiBMb2dpbiBlbWJlZGRlZCwgaGFyZC1jb2RlZCBkYXRhIG1vZGVsOyBhY3RzIGFzeW5jaHJvbm91c2x5IHRvIHNpbXVsYXRlXHJcbiAgICAgKiByZW1vdGUgZGF0YSBzZXJ2aWNlIGNhbGwocykuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3tsb2dpbjogRnVuY3Rpb259fVxyXG4gICAgICogQGNvbnN0cnVjdG9yXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIExvZ2luU2VydmljZSgkaHR0cCwgJGxvZywgY29uc3RhbnRzKSB7XHJcbiAgICAgICAgdmFyIGFwaVVybCA9IGNvbnN0YW50cy5hcGlVcmw7XHJcbiAgICAgICAgdmFyIHVybCA9IHtcclxuICAgICAgICAgICAgbG9naW46IGFwaVVybCArICcvYXV0aGVudGljYXRlJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxvZ2luOiBmdW5jdGlvbiAoY3JlZHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KHVybC5sb2dpbiwgY3JlZHMpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsneC1hdXRoLXRva2VuJ10gPSByZXMuZGF0YS50b2tlbjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEudXNlcjtcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgJGxvZy5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCl7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3VzZXJzJykuc2VydmljZSgndXNlclNlcnZpY2UnLCBVc2VyU2VydmljZSk7XHJcblxyXG4gICAgVXNlclNlcnZpY2UuJGluamVjdCA9IFsnJGh0dHAnLCAnY29uc3RhbnRzJ107XHJcbiAgICBmdW5jdGlvbiBVc2VyU2VydmljZSgkaHR0cCwgY29uc3RhbnRzKXtcclxuICAgICAgICB2YXIgdXJsID0gY29uc3RhbnRzLmFwaVVybCArICcvdXNlcic7XHJcbiAgICAgICAgLy9UT0RPOiBpbXBsZW1lbnQgZmlsdGVyaW5nXHJcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgIHZhciBnZXRVcmwgPSBlbWFpbCA/IHVybCArICcvJyArIGVtYWlsIDogdXJsO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRodHRwLmdldChnZXRVcmwpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnBvc3QgPSBmdW5jdGlvbih1c2VyKXtcclxuICAgICAgICAgICAgcmV0dXJuICRodHRwLnBvc3QodXJsLCB1c2VyKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucHV0ID0gZnVuY3Rpb24oZW1haWwsIHVzZXIpe1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAucHV0KHVybCArICcvJyArIGVtYWlsLCB1c2VyKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbihlbWFpbCl7XHJcbiAgICAgICAgICAgIHJldHVybiAkdGhocC5kZWxldGUodXJsICsgJy8nICsgZW1haWwpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
